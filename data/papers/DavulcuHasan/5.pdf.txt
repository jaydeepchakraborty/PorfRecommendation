arXiv:1608.01771v1 [cs.SI] 5 Aug 2016

Community Detection in Political Twitter Networks
using Nonnegative Matrix Factorization Methods
Mert Ozer

Nyunsu Kim

Hasan Davulcu

School of Computing, Informatics,
Decision Systems Engineering
Arizona State University
Tempe, USA 85287
mozer@asu.edu

School of Computing, Informatics,
Decision Systems Engineering
Arizona State University
Tempe, USA 85287
nkim30@asu.edu

School of Computing, Informatics,
Decision Systems Engineering
Arizona State University
Tempe, USA 85287
hdavulcu@asu.edu

Abstract—Community detection is a fundamental task in social
network analysis. In this paper, first we develop an endorsement
filtered user connectivity network by utilizing Heider’s structural
balance theory and certain Twitter triad patterns. Next, we
develop three Nonnegative Matrix Factorization frameworks to
investigate the contributions of different types of user connectivity
and content information in community detection. We show that
user content and endorsement filtered connectivity information
are complementary to each other in clustering politically motivated users into pure political communities. Word usage is
the strongest indicator of users’ political orientation among all
content categories. Incorporating user-word matrix and word
similarity regularizer provides the missing link in connectivityonly methods which suffer from detection of artificially large
number of clusters for Twitter networks.

I. I NTRODUCTION
Twitter has become one of the main stages of political
activity both among politicians and partisan crowds. We have
seen huge political mobilizations over Twitter in recent uprisings such as the Arab Spring and the Gezi protests [1].
Since then, politicians have been engaging in using Twitter to
attract supporters and people have been using it to express their
political views and opinions on various leaders and issues.
Community detection is a fundamental task in social network analysis [2]. A community [3] can be defined as a group
of users that (1) interact with each other more frequently than
with those outside the group and (2) are more similar to each
other than to those outside the group. Utilizing community detection algorithms to detect online political camps has attracted
many researchers [4], [5], [6]. In this work, we propose three
nonnegative matrix factorization frameworks to exploit both
user connectivity and content information in Twitter to find
ideologically pure communities in terms of their members’
political orientations.
Twitter presents three types of connectivity information
between users: follow, retweet and user mention. In this paper,
we do not use follow information since follow relationships
correspond to longer-term structural bonds [10] and it remains
challenging to determine if a follow relationship between a
pair of users indicate political support or opposition. Furthermore, it has been observed that neither user retweets nor user
mentions always indicate endorsement in Twitter [7]. However

in the political sub-domain of Twitter, it has been shown that
retweets tend to happen between like-minded users rather than
between members of opposing camps [8].
Using both connectivity and content information for community detection in social networks has been a popular approach among many researchers’ prior works [4], [5], [6], [3].
In [4], Tang et al. propose a general framework for integrating
multiple heterogenous data sources for community detection.
Tang’s work does not pay attention to identifying the endorsement subgraph of the connectivity graph. In [5] Sachan et al.
propose an LDA-like social interaction model by representing
user connectivity as a document alongside message content.
This approach also does not discriminate between positive
or negative user engagement. In [6], Ruan et al. propose to
use a filtered graph to eliminate ambiguous interactions by
checking content similarity in the user’s neighborhood. In
this formulation, only local content patterns are taken into
consideration whereas in our formulations we incorporate the
global content patterns into our optimization framework.
The contributions of this paper can be summarized as
follows:
•

•

We start with retweets without edits as indicators of
positive endorsements between users and utilize Heider’s
P-O-X triad balance theory [11] to incorporate selected
”structurally balanced” edited retweets and user mentions
into a weighted undirected connectivity graph as additional indicators of positive endorsements.
We develop algorithms which incorporate users’ content
information in our community detection frameworks to
overcome the sparse nature of Twitter connectivity networks. We break down Twitter message content into
three categories; words, hashtags and urls, and design
experiments to measure the performance contributions
of each category. Proposed Nonnegative Matrix Factorization (NMF) algorithms use user-word, user-hashtag
and user-domain frequency matrices to be factorized into
lower rank user vector representations while regularizing
over user connectivity and content similarity to map users
into their respective communities.

Pei et al. in [3] also model the problem as nonnegative

matrix tri-factorization problem which factorizes user-word,
tweet-word and user-user matrices into lower rank representations of users and tweets while regularizing it with user interaction and message similarity matrices. They build user-user
connectivity matrix by utilizing the structural follow relationships which do not capture dynamic political context-sensitive
engagement. They treat all user mentions and retweets identically and without any discrimination for endorsement. Their
framework also lacks word similarity regularization.
We develop and experiment with three nonnegative matrix factorization frameworks: MultiNMF, TriNMF, DualNMF,
which incorporate connectivity alongside different types of
content information as regularizers. After experimenting with
different dimensions of user content and different types of
induced connectivity networks we discovered that incorporating more information does not necessarily yield higher
clustering performance. Highest quality clustering is achieved
through endorsement filtered connectivity based on methods
we develop in Section III alongside user-word matrix based
content regularization. Our DualNMF framework gives purity
scores around 88%, adjusted rand index around 75% and NMI
around 67%. It improves all of the other baseline methods
significantly as presented in Section V and it also improves
over the NMTF framework developed recently by Pei et al.
[3] by 8% in purity, 47% in ARI and by up to 60% in
NMI metrics. Proposed endorsement filtered sub-graph of user
mentions and retweets also improves all baseline methods in
almost all of the experimental setups by up to 109% in NMI,
71% in ARI and 17% in purity.
The rest of the paper is organized as follows. Section
II briefly surveys related work. In Section III, we present
Heider’s theory of P-O-X structural balance of triads and
its application to retweet and mention graphs to identify
endorsement filtered user connectivity networks. In Section IV,
we introduce our three nonnegative matrix factorization frameworks for community detection. In Section V, we present our
experimental design, evaluation metrics and results. Section
VI concludes the paper and discusses future work.
II. R ELATED W ORK
A. Community Detection
Since the introduction of the modularity metric by Newman
in [16], plenty of modularity based community detection
methods have been proposed in the literature [17], [18], [19],
[20]. We employ Blondel et al. [18] and Clauset et al. [19]
works as baseline algorithms to compare with ours due to their
wide popularity among practitioners. A general drawback of
these algorithms, when they are applied to Twitter networks,
is that due to the sparse nature of the connectivity they end
up with an artificially large number of communities.

incorporate Laplacian graph regularization to the standard
NMF algorithm which assumes data points are sampled from
a Euclidian space which is not the case usually for real-world
applications. Gu et al. [31] further incorporate local learning regularization to NMF which assumes that geometrically
neighboring data points are similar to each other, and should be
in the same cluster. For co-clustering purposes Ding et al. [28]
propose nonnegative matrix tri-factorization with orthogonality
constraints. Shang et al. introduce graph dual regularized NMF
algorithm in [27] by claiming that not only observed data but
also features lie on a manifold. Yao et al. [24] apply the same
logic for collaborative filtering domain and propose a dual
regularized one-class collaborative filtering method.
III. T HE S TRUCTURAL BALANCE OF R ETWEET AND
M ENTION G RAPH
Since P-O-X triad balance theory proposed by Heider in
[11], structural balance of signed networks has been studied
extensively. Heider proposed that in a signed triad, only two
combinations of eight possible sign configurations are possible
for a triad to be structurally balanced. Those are the following
cases;
1) three positive edges,
2) one positive and a pair of negative edges.
In other words, there cannot be any structurally balanced triad
having only one negative edge. We adopt this social theory
for the Twitter user connectivity networks, by assuming that
”retweets without edits” imply political endorsement or an
unambiguous positive edge [12]. However, when a retweet is
edited, it has already been shown that [13], it does not necessarily mean endorsement anymore. Moreover, user mentions
do not imply endorsements either. For these reasons, we only
consider retweets without edits as positive edges. For the rest
of the user actions, corresponding to retweets with edits and
users mentions, it is hard to detect positivity or negativity of
the edges.
In certain triad configurations, retweets with edits and user
mentions can be identified as positive edges with the help
of Heider’s triad structural balance (TSB) rules. Since we
do not have unambiguous negative edges, the second case
is not applicable. However, since we have some positive
edges to begin with, we can employ Heider’s first case (i.e.
three positive edges), to infer that in the presence of a triad
with a pair of positive edges, the third edge can also be
labeled as positive. An example configuration with a pair of
positive edges is shown in Figure 1. In this case, TSB rule is
applicable and would allow us to infer that any user mention
or retweet with an edit edge connecting the lower pair of
users in the triad is indeed a positive edge. By employing
this inference mechanism we identify the endorsement filtered
user connectivity network.

B. Nonnegative Matrix Factorization
Nonnegative Matrix Factorization(NMF) algorithms by Lee
et al. [22] and Lin et al. [23] have been extensively used
and extended for different variations of community detection
problems. Cai et al. [29] introduced GNMF algorithm to

IV. P ROPOSED M ETHODS
We propose three methods for clustering politically motivated users in Twitter namely; MultiNMF, TriNMF and

•

•

•

Fig. 1.

An example application of TSB Rule

DualNMF. For MultiNMF method we use document term
representation of user-word, user-hashtag and user-domain matrices to be factorized and regularize the factorization problem
with the user connectivity graph, cosine similarity matrices of
words, domains and hashtag co-occurence matrix. For TriNMF
method we use only user-word and one of user-hashtag or
user-domain matrices and regularize over user connectivity
and cosine domain similarity or hashtag co-occurence matrix.
For DualNMF method we factorize user-word matrix into two
nonnegative lower rank matrices while regularizing it with user
connectivity and cosine word similarity. Before going into the
details of the three algorithms we present notation in Table I. In
TABLE I
N OTATION
Xuw
Xuh

user x word
user x hashtag

Xud

user x domain

R

user x user

M

user x user

∆M

user x user

∆Mw

user x user

C

user x user

Hsim
Dsim
Wsim
α
γ
θ
β
U
H
D
W

hashtag x hashtag
domain x domain
word x word
number
number
number
number
user x cluster
hashtag x cluster
domain x cluster
word x cluster

frequencies of words used by users
frequencies of hashtags used by users
frequencies of distinct domains used
by users
adjacency matrix of
retweet without edit graph
adjacency matrix of
mention and retweet with edit graph
adjacency matrix of mentions
and retweet with edits completing
retweet without edit triads
adjacency matrix of mentions
and retweet with edits completing
retweet without edit triads
weighted by retweet without edit edges
any combination of user connectivity
graphs
hashtag co-occurence matrix
domain similarity matrix
word similarity matrix
user connectivity regularizer parameter
hashtag similarity regularizer parameter
domain similarity regularizer parameter
word similarity regularizer parameter
cluster assignment matrix of users
cluster assignment matrix of hashtags
cluster assignment matrix of domains
cluster assignment matrix of words

this work, instead of using only full user retweet and mention
network we offer three types of user connectivity regularizers
as follows;

R + M: It is the adjacency matrix of the full retweet and
mention graph. If there exists both retweet and mention
edges between two users, weights are summed up.
R + ∆M: It is the adjacency matrix of the union of
retweet and mention graphs in which mention edges and
retweet with edits either complete a missing link in a
triad of retweet without edit or already correspond to a
retweet without edit edge. ∆M can be formally defined
as;
PN
∆M = {(i, j, Mij ) | Rij > 0 ∨ k=1 Rik Rkj > 0}
R + ∆Mw : It is the adjacency matrix of the union of
retweet and mention graphs in which mention edges and
retweet with edits either complete a missing link in a triad
of retweet without edit or already correspond to a retweet
without edit edge. The ones that complete a missing link
in a triad of retweet without edit are weighted by the
multiplication of the weights of two retweet without edit
edges in the triad. ∆Mw can be defined formally as;
∆Mw = {(i, j, Mij (Rij +

PN

k=1

Rik Rkj ))}

For word similarity and domain similarity regularizers
we make use of cosine similarity. It can be formally defined as;
cos(θ) =

vi · vj
k v i k ∗ k vj k

where vi is the user usage frequency vector of ith word or
domain. For hashtag similarity we build similarity matrix by
making use of co-occurences of hashtags in tweets. If two
hashtags occur in the same tweet, we assume that those two
hashtags are similar.
A. MultiNMF with multi regularizers
To incorporate usage of both hashtags and domains of
shared url links by users, we propose an NMF framework
which has the following objective function;
JU,H,D,W =k Xuw − UWT k2F + k Xuh − UHT k2F
+ k Xud − UDT k2F +αT r(UT LC U)
+ γT r(HT LHsim H) + θT r(DT LDsim D)

(1)

T

+ βT r(W LWsim W)
s.t. U ≥ 0, H ≥ 0, D ≥ 0, W ≥ 0
where LC is the Laplacian matrix of adjacency matrix of user
connectivity graph defined as DC − C and DC is the matrix
which contains the degree of each user node in its diagonals.
LHsim , LDsim and LWsim follow the same definition for
hashtags and words. Due to the very fuzzy multi-class nature
of words, hashtags and domain names, we do not include
orthogonality constraints for matrices U, H, D, W, which
usually result in more precise clusters for co-clustering tasks.
It is easy to see that the proposed objective function is not
convex for U, H, D and W, hence we develop an iterative
algorithm which tries to find a local minima by updating each
matrix iteratively as follows;
s
Xuw W + Xuh H + Xud D + αL−
CU
U←U
(2)
UWT W + UHT H + UDT D + αL+
CU

v
u T
u Xuh H + γL−
Hsim H
H←Ht
T
HU U + γL+
Hsim H
v
u T
u Xud D + θL−
Dsim D
D←Dt
T
DU U + θL+
Dsim D
v
u T
u Xuw U + βL−
Wsim W
W ←Wt
T
WU U + βL+
Wsim W
L+
ij

(4)

(5)

L−
ij

B. TriNMF with three regularizers
To incorporate usage of hashtags or domains of shared url
links solely, we propose a new NMF framework which has
the following objective function.
JU,H,W =k Xuw − UWT k2F + k Xuh − UHT k2F
+ αT r(UT LC U) + γT r(HT LHsim H)
+ βT r(WT LWsim W)

To use only user word matrix as user content and regularize
factorization with user connectivity and keyword similarity,
inspired by [24], we present DualNMF objective function as;
JU,W =k Xuw − UWT k2F +αT r(UT LC U)
+ βT r(WT LWsim W)

= (|Lij | − Lij )/2.
[·]
 represents element-wise multiplication and
represents
[·]
element-wise division. Derivation of update rules can be seen
in Appendix A. Complexity of the method can be inferred
as O(i(uwk + uhk + udk + u2 k + h2 k + d2 k + w2 k))
when complexity of multiplying any X matrix with any of
U, H, D, W is considered to be O(uwk), O(uhk), O(udk)
and multiplying any of Laplacian matrices L with any of
U, H, D, W is taken as O(u2 k), O(h2 k), O(d2 k) or O(w2 k)
where i is the number of iterations, u is number of users, h is
the number of hashtags, d is the number of domains, w is the
number of words and k is the number of clusters. The general
algorithmic framework is given at the end of methodology in
Algorithm 1.
where

= (|Lij | + Lij )/2 and

C. DualNMF
(3)

(6)

(10)

s.t. U ≥ 0, W ≥ 0
After following the same procedure introduced in Section
IV-A, we can get the update rules for U and W as;
s
Xuw W + αL−
CU
(11)
U←U
T
UW W + αL+
CU
v
u T
u Xuw U + βL−
Wsim W
(12)
W ←Wt
T
WU U + βL+
Wsim W
Complexity of the method can be inferred as O(i(uwk+u2 k+
w2 k)) after omitting the extra operations done over matrices
Xuh , H and DHsim in the previous method. The general
Algorithm 1 NMF Algorithms
Input:{Xuw , Xuh , Xud , C, Hsim , Dsim , Wsim , α, β, θ, γ}
Output: U
1: Initialize U, H, D, W > 0
2: while ∆residual > threshold do
3:
Update U by using one of Equations 2, 7, 11
4:
Update H by using one of Equations 3, 8
5:
Update D by using Equation 4
6:
Update W by using one of Equations 5, 9, 12
7: end while
8: Assign user i to community j where j = argmaxj Uij .

s.t. U ≥ 0, H ≥ 0, W ≥ 0
where LC is the Laplacian matrix of user connectivity defined
as DC − C and DC is a diagonal matrix which contains the
degree of each user in its diagonals. LHsim and LWsim follows
the same definition for hashtags and words. After applying the
same procedure followed in Section IV-A, we get updating
rules as follows.
s
Xuw W + Xuh H + αL−
CU
(7)
U←U
T
T
UW W + UH H + αL+
CU
v
u T
u Xuh U + γL−
Hsim H
H←Ht
(8)
T
HU U + γL+
Hsim H
v
u T
u Xuw U + βL−
Wsim W
(9)
W ←Wt
T
WU U + βL+
Wsim W
Note that this update rules can be obtained by setting D, Dsim
and θ equal to 0 in Equations 2, 3, 5. Complexity of the method
can be calculated by omitting the costs of operations done over
matrices Xud , D and LDsim . The complexity of the method
is O(i(uwk + uhk + u2 k + h2 k + w2 k)).

algorithm can be summarized as the application of the related
update rules to the matrices U, H, D, W. For MultiNMF with
multi regularizers method, equations 2, 3, 4, 5 are applied.
For TriNMF with three regularizers method, equations 7, 8,
9 are applied and D matrix is not included in calculations.
For DualNMF method, equations 11 and 12 are applied and
H and D matrices are not included in calculations.
V. E XPERIMENTS AND R ESULTS
A. Data Description
We make use of a pair of publicly available1 political Twitter
datasets to evaluate our methods. These datasets are user lists
of 419 British political figures from four major political parties
in the UK, namely; Conservative and Unionist Party, Labour
Party, Scottish National Party, Liberal Democrats and others,
and 349 major Irish political figures from seven political
parties; Fianna Fil, Fine Gael, Green Party, Sinn Fin, United
Left Alliance, Independents. Several statistics for the datasets
are shown in Table II.
1 Users’
Twitter
id
lists
http://mlg.ucd.ie/aggregation/index.html

can

be

obtained

from

TABLE II
DATA ATTRIBUTES

#
#
#
#
#
#
#
#

of
of
of
of
of
of
of
of

Tweets
Retweets
Mentions
Words
Hashtags
URL Domains
Users
Baseline Communities

UK

Ireland

19,947
1,566
4,956
10,766
945
946
233
5

14,656
7,088
22,072
7,973
986
634
258
7

For the UK and Ireland data, we crawl all of the tweets sent
from the accounts of given user id lists. In order not to be
heavily influenced by the extremely polarized election season,
we only used tweets dated after May, 7 2015, which was the
election day in the UK. To balance the share of number of
tweets from each user we limit the number of tweets to 200
per user.
For each dataset, same preprocessing method is followed.
First, words occurring less than 20 times and stop words
are eliminated. After eliminating word features, users and
tweets that lack content are also eliminated. Hashtags and
domains that appear only once are not taken into consideration
either. Statistics shown in Table II show the numbers after
preprocessing.
B. Evaluation Metrics
To evaluate the methods, we make use of three well known
clustering quality metrics, namely; purity, adjusted rand index
and normalized mutual information.
Purity can be formally defined as;
k

P urity =

1X
maxj |Ci ∩ lj |
n i=1

where k is the number of communities found, n is the number
of instances, lj is the set of instances which belong to the class
j, and Ci is the set of instances that are members of community
i.
Adjusted Rand Index [14] can be formally defined as;
ARI =

RI − E[RI]
max(RI) − E[RI]

where
RI =

s + s0

n
2

s is the number of pairs which belong to both same groundtruth class and identified community. s0 is the number of
pairs which belong to both different ground-truth classes and
identified communities. It evaluates the similarity of groundtruth class labels and clustering result.
Normalized Mutual Information can be formally defined
as;
 P (j, i) 
P|l| P|C|
P
(j,
i)log
j=1
i=1
P (i)P (j)
p
NMI =
H(l)H(C)

where, H(l) and H(C) are the entropy of class and community
assignments of l and C. P (j, i) is the probability that randomly
picked user has class label j and belongs to the community i
while P (j) gives the probability of randomly picked user to
be in class j and similarly P (i) to be in community i.
C. Baseline Algorithms
As a baseline to evaluate the performance of using both
connectivity and content information, we design experiments
with connectivity-only and content-only clustering methods.
For connectivity-only method, we use Louvain [18] and
CNM [19] algorithms utilizing modularity optimization over
user adjacency matrix. Modularity is defined as:
ki kj
1 X
(Aij −
)δ(ci , cj )
(13)
Q=
2m ij
2m
where δ(ci , cj ) is the Kronecker delta symbol, ci is the label
of the community to which node i is assigned, and ki is the
degree of node i.
For content-only approach, we experiment with kmeans[21] and conventional non-negative matrix factorization
algorithm [22].
For approaches employing both connectivity and content
information of users, we test GNMF [29] and NMTF [3]
algorithms besides proposed methods. GNMF algorithm is
introduced by Cai et al. to incorporate intrinsic geometric
similarity of users. We feed previously defined three types
of user connectivity graphs’ adjacency matrices as graph
regularization terms to the GNMF algorithm.
Pei et al. work in [3] applies nonnegative matrix trifactorization with regularization to Twitter data. It makes use
of user similarity, [tweet x word] and [user x word] matrices
and regularize the objective function with tweet similarity and
user connectivity matrices. Complexity of the algorithm is
O(rk(mn + mw + nw + m3 + n2 )) where r is the iteration
times. m, n, k, and w denote the number of users, messages,
features and communities.
D. Experimental Design
First set of experiments test the performance of using
connectivity-only information for community detection, labeled as the Experiment Set 1. We test Louvain and CNM
algorithms on three different types of connectivity graphs.
Second set of experiments test the performance of contentonly methods, labeled as Experiment Set 2. We test k-means
and NMF methods. Third set of experiments test the performance of methods utilizing both connectivity and content
information, labeled as Experiment Set 3. We test GNMF and
NMTF frameworks proposed by [3] as baseline algorithms,
alongside our proposed MultiNMF, TriNMF and DualNMF
methods. In user content dimension, we use DualNMF method
to test the experiment design that only uses user-word content.
We use TriNMF method to test the experiment design that
uses user-hashtag or user-domain information in combination
with the user-word information. We use MultiNMF method

TABLE V
I RELAND E XPERIMENT S ET 1 R ESULTS

to test the experiment design that uses all of user-word, userhashtag and user-domain contents. We label these experiments
as Experiment Set 3.1, 3.2 and 3.3 respectively.
E. Experimental Results
First, we present statistics of retweets without edits and user
mentions on the full and endorsement filtered user connectivity
graphs. Table III shows that retweeting without edits indeed
occurs mostly inside like-minded political camps, rather than
cross-camps. Roughly 97% of retweets in the UK data, and
88% of retweets in the Ireland data occur inside like-minded
groups, while these percentages are much lower for users mentions. Our endorsement filtered connectivity network boosts
the percentage of inner group user mentions from 83% to
97% in the UK data and from 59% to 87% in the Ireland
data evidencing that TSB rule in fact identifies positive user
mentions and retweets with edits with high accuracy.

•

Algorithm

User Graph

k

Purity

ARI

NMI

Louvain

R+M
R + ∆M
R + ∆Mw

13
31
31

.8720
.9186
.9224

.7277
.7453
.7536

.6849
.7393
.7518

CNM

R+M
R + ∆M
R + ∆Mw

10
29
29

.7016
.8333
.8333

.4509
.6426
.6426

.4720
.6381
.6381

Using endorsement filtered user connectivity graph usually gives better clustering performance compared to
using full user connectivity graph. There is a pattern of
weighted graph approach outperforming the others.
TABLE VI
UK E XPERIMENT S ET 2 R ESULTS

TABLE III
DATA ATTRIBUTES
UK

Ireland

962
28

1,652
216

Inner Group Retweet + Mention Links
Inter Group Retweet + Mention Links

1,986
398

3,056
2,092

Inner Group Retweet + ∆Mention Links
Inter Group Retweet + ∆Mention Links

1,456
40

2,820
432

Inner Group Retweet Links
Inter Group Retweet Links

We run each experiment 20 times for every method and pick
the maximum score achieved for reporting. Each regularizer
parameter (α, γ, θ, β) are experimented with values 1, 10,
100 and 1000. Best accuracies are usually reached with
experiments in which α and β equal to 10 or 100 while
γ and θ equal to 1. This shows the contribution of user
connectivity and word similarity regularizers, and considerably
lower contributions of hashtag and domain name regularizers
towards overall performance of the algorithms.

Algorithm

User Content

Purity

ARI

NMI

k-Means
NMF

user x word
user x word

.6738
.6395

.2378
.1541

.2018
.1709

TABLE VII
I RELAND E XPERIMENT S ET 2 R ESULTS
Algorithm

User Content

Purity

ARI

NMI

k-Means
NMF

user x word
user x word

.4651
.4186

.0488
.0434

.1672
.1139

Experiment Set 2 indicates that word usage-only based
clustering yields considerably lower accuracies compared to
user connectivity-only based clustering.
TABLE VIII
UK E XPERIMENT S ET 3 R ESULTS
Algorithm

User Graph

User Content

Purity

ARI

NMI

R+M
R + ∆M
R + ∆Mw

user x word

GNMF[29]

.7854
.8069
.8326

.4955
.6099
.6469

.4120
.4922
.5461

NMTF[3]

R+M
R + ∆M
R + ∆Mw

user x word,
tweet x word

.8197
.8112
.8412

.6448
.5657
.5331

.2593
.2471
.3751

TABLE IV
UK E XPERIMENT S ET 1 R ESULTS
Algorithm

User Graph

k

Purity

ARI

NMI

Louvain

R+M
R + ∆M
R + ∆Mw

20
42
42

.9313
.9613
.9484

.4661
.3691
.4291

.5854
.5916
.5916

TriNMF

R+M
R + ∆M
R + ∆Mw

user x word,
user x domain

.7597
.7940
.8283

.3707
.5566
.6375

.3158
.4595
.5006

CNM

R+M
R + ∆M
R + ∆Mw

17
41
41

.8498
.9700
.9700

.5656
.6150
.6150

.5257
.6496
.6496

TriNMF

R+M
R + ∆M
R + ∆Mw

user x word,
user x hashtag

.7897
.8112
.7768

.5232
.4640
.5001

.4320
.3780
.3837

MultiNMF

R+M
R + ∆M
R + ∆Mw

user x word
user x domain,
user x hashtag

.7554
.8112
.8112

.4025
.5726
.6108

.3343
.4404
.4978

R+M
R + ∆M
R + ∆Mw

user x word

DualNMF

.8326
.8927
.8970

.5674
.7291
.7616

.5146
.6086
.6380

Major findings for Experiment Set 1 can be summarized as
follows:
• Relatively larger clustering scores occur due to artificially
large number of clusters that are found. Considering the
number of users in both datasets, the number of clusters
identified in Experiment Set 1 are not practical for use
(e.g. 29 clusters in Ireland data for 7 political parties).

Major findings from Experiment Set 3 can be summarized
as follows;

TABLE IX
I RELAND E XPERIMENT S ET 3 R ESULTS

VI. C ONCLUSION

Algorithm

User Graph

Content

Purity

ARI

NMI

R+M
R + ∆M
R + ∆Mw

user x word

GNMF[29]

.5543
.6279
.8178

.2447
.4557
.6978

.2881
.4652
.6399

NMTF[3]

R+M
R + ∆M
R + ∆Mw

user x word,
tweet x word

.5969
.6860
.7597

.3119
.3986
.5198

.2144
.2384
.4469

TriNMF

R+M
R + ∆M
R + ∆Mw

user x word,
user x domain

.7209
.7946
.8101

.5051
.6045
.6807

.5237
.5313
.6372

TriNMF

R+M
R + ∆M
R + ∆Mw

user x word,
user x hashtag

.6938
.7016
.8062

.4202
.5300
.6784

.4431
.4224
.6885

MultiNMF

R+M
R + ∆M
R + ∆Mw

user x word,
user x domain,
user x hashtag

.7481
.6744
.8178

.4777
.4597
.6953

.4938
.4219
.6411

R+M
R + ∆M
R + ∆Mw

user x word

DualNMF

.7364
.7597
.8721

.5561
.6292
.7536

.5397
.6029
.7096

TABLE X
C OMPARISON OF M ETHODS FOR E XPERIMENT S ET 3

Content

•

•

•

•

•

3word
word,
hashtag or domain
word,
hashtag and domain

Connectivity
R+M
3R + ∆Mw
DualNMF
33DualNMF
TriNMF

3TriNMF

MultiNMF

3MultiNMF

Regardless of the experiment set and algorithms used,
endorsement filtered user connectivity graph yields higher
accuracy clustering performance compared to using the
full connectivity graph. Usually weighted graph approach
outperforms the others.
DualNMF method which factorizes user-word matrix
alongside user connectivity and word similarity regularizers yields the highest accuracy clustering performance.
We get much higher scores of clustering accuracy in
Experiment Set 3 compared to Experiment Set 2. Regularizing content-only methods with user connectivity
graphs(GNMF [29]), dramatically increases the quality
of the clustering. DualNMF which incorporates keyword
similarity regularization to GNMF further boosts the
quality of clustering.
Compared to DualNMF method, including tweet messages for NMTF method proposed in [3] does not help to
further improve the clustering quality, while it increases
complexity dramatically. DualNMF provides 9% additional purity, 46% additional ARI score while doubling
the NMI score compared to the baseline NMTF method
of Pei et al. in [3].
Compared to DualNMF method, utilizing hashtag and/or
domain usage information (i.e. TriNMF and MultiNMF)
do not contribute to the overall clustering quality.

In Twitter, content and endorsement filtered connectivity
are complementary to each other in clustering politically
motivated users into pure political communities. Word usage is
the strongest indicator of user’s political orientation among all
content categories. Incorporating user-word matrix and word
similarity regularizer provides the missing link in connectivityonly methods which suffers from detection of artificially large
number of clusters in sparse Twitter networks. Our future work
includes parallel distributed evolutionary community detection
and identification of emerging coalitions and conflicts among
communities.
ACKNOWLEDGMENT
This research was supported by ONR Grants N00014-16-12386 and N00014-15-1-2722.
R EFERENCES
[1] Howard, Philip N., and Aiden Duffy, Deen Freelon, Muzammil Hussain,
Will Mari, and Marwa Mazaid. Opening Closed Regimes: What Was the
Role of Social Media During the Arab Spring? Project on Information
Technology and Political Islam Data Memo 2011.1. Seattle: University
of Washington, 2011.
[2] Girvan,M., Newman M.E.J. (2002). Community structure in social and
biological networks, Proceedings of the National Academy of Sciences,
99(12), pp.7821-7826.
[3] Yulong Pei, Nilanjan Chakraborty, and Katia Sycara. 2015. Nonnegative
matrix tri-factorization with graph regularization for community detection
in social networks. In Proceedings of the 24th International Conference on
Artificial Intelligence (IJCAI’15), Qiang Yang and Michael Wooldridge
(Eds.). AAAI Press 2083-2089.
[4] J. Tang, X. Wang, and H. Liu. Integrating Social Media Data for
Community Detection. In Modeling and Mining Ubiquitous Social Media,
2012.
[5] Mrinmaya Sachan, Danish Contractor, Tanveer A. Faruquie, and L.
Venkata Subramaniam. 2012. Using content and interactions for discovering communities in social networks. In Proceedings of the 21st
international conference on World Wide Web (WWW ’12). ACM, New
York, NY, USA, 331-340.
[6] Y. Ruan, D. Fuhry, and S. Parthasarathy. Efficient community detection
in large networks using content and links. In WWW 13, 2013.
[7] Tufekci, Z. (2014). Big Questions for Social Media Big Data: Representativeness, Validity and Other Methodological Pitfalls. In: International
AAAI Conference on Weblogs and Social Media.
[8] M. D. Conover, B. Goncalves, J. Ratkiewicz, M. Francisco, A. Flammini,
and F. Menczer, Political polarization on Twitter, in Proceedings of the
5th InternationalConference on Weblogs and Social Media, 2011
[9] Sandra Gonzlez-Bailn, Ning Wang, Alejandro Rivero, Javier BorgeHolthoefer, Yamir Moreno, Assessing the bias in samples of large online
networks, Social Networks, Volume 38, July 2014, Pages 16-27, ISSN
0378-8733, http://dx.doi.org/10.1016/j.socnet.2014.01.004.
[10] S. A. Myers, A. Sharma, P. Gupta, and J. Lin. Information network
or social network? The structure of the Twitter follow graph. WWW
Companion, 2014
[11] Heider F. The psychology of interpersonal relations. New York: Wiley,
1958. 322 p.
[12] Felix Ming Fai Wong, Chee Wei Tan, Soumya Sen, and Mung Chiang.
2013. Quantifying political leaning from tweets and retweets. In Proceedings of the International AAAI Conference on Weblogs and Social Media
(ICWSM).
[13] D. Boyd, S. Golder and G. Lotan, ”Tweet, Tweet, Retweet: Conversational Aspects of Retweeting on Twitter,” System Sciences (HICSS),
2010 43rd Hawaii International Conference on, Honolulu, HI, 2010, pp.
1-10. doi: 10.1109/HICSS.2010.412
[14] Hubert, L., Arabie, P. (1985). Comparing partitions. Journal of Classification, 2, 193218.
[15] Stephen Boyd and Lieven Vandenberghe. Convex optimization. Cambridge University Press, Cambridge, 2004.

[16] M. Newman. 2006. Modularity and community structure in networks.
Proceedings of the National Academy of Sciences, vol. 103, no. 23, pp.
85778582.

A PPENDIX
D ERIVATION OF E QUATIONS 2, 3, 4, 5

[17] S. Fortunato. 2010. Community detection in graphs. Physics Reports,
vol. 486, pp. 75174

To follow the conventional theory of constrained optimization we rewrite objective function 1 as;

[18] Vincent D Blondel, Jean-Loup Guillaume, Renaud Lambiotte, Etienne
Lefebvre. Fast unfolding of communities in large networks. Journal of
Statistical Mechanics: Theory and Experiment 2008 (10), P10008 (12pp)
doi: 10.1088/1742-5468/2008/10/P10008.
[19] A. Clauset, M. Newman, and C. Moore, Finding community structure in very large networks, Physical Review E, vol. 70, p. 066111, 2004. [Online]. Available:
http://www.citebase.org/cgibin/citations?id=oai:arXiv.org:condmat/0408187
[20] Waltman, L., Van Eck, N. J.. 2013. A smart local moving algorithm
for large-scale modularity-based community detection. European Physical
Journal B, 86, 471.
[21] Lloyd., S. P. (1982). ”Least squares quantization in PCM”
(PDF). IEEE Transactions on Information Theory 28 (2): 129137.
doi:10.1109/TIT.1982.1056489
[22] Daniel D. Lee, H. Sebastian Seung. 2000. Algorithms for Non-negative
Matrix Factorization. In Neural Information Processing Systems (NIPS),
Vol. 13 , pp. 556-562.

JU,H,D,W = T r((Xuw − UWT )(Xuw − UWT )T )
+ T r((Xuh − UHT )(Xuh − UHT )T )
+ T r((Xud − UDT )(Xud − UDT )T )
+ αT r(UT LC U) + γT r(HT LHsim H)
+ θT r(DT LDsim D) + βT r(WT LWsim W)
JU,H,D,W = T r(Xuw XTuw ) − 2T r(Xuw WUT )
+ T r(UWT WUT ) + T r(Xuh XTuh )
− 2T r(Xuh HUT ) + T r(UHT HUT )
+ T r(Xud XTud ) − 2T r(Xud DUT ) + T r(UDT DUT )
+ αT r(UT LC U) + γT r(HT LHsim H)
+ θT r(DT LDsim D) + βT r(WT LWsim W)

[23] C. J. Lin. On the Convergence of Multiplicative Update Algorithms for Nonnegative Matrix Factorization. In IEEE Transactions on
Neural Networks, vol. 18, no. 6, pp. 1589-1596, Nov. 2007. doi:
10.1109/TNN.2007.895831

Let Φ, η, Ω and Ψ be the Lagrangian multipliers for constraints
U, H, D, W > 0 respectively. So the Lagrangian function L
becomes;

[24] Yuan Yao, Hanghang Tong, Guo Yan, Feng Xu, Xiang Zhang,
Boleslaw K. Szymanski, and Jian Lu. 2014. Dual-Regularized OneClass Collaborative Filtering. In Proceedings of the 23rd ACM International Conference on Conference on Information and Knowledge
Management (CIKM ’14). ACM, New York, NY, USA, 759-768.
DOI=http://dx.doi.org/10.1145/2661829.2662042

L = T r(Xuw XTuw ) − 2T r(Xuw WUT ) + T r(UWT WUT )

[25] Linhong Zhu, Aram Galstyan, James Cheng, and Kristina Lerman.
2014. Tripartite graph clustering for dynamic sentiment analysis on
social media. In Proceedings of the 2014 ACM SIGMOD International
Conference on Management of Data (SIGMOD ’14). ACM, New York,
NY, USA, 1531-1542. DOI=http://dx.doi.org/10.1145/2588555.2593682
[26] Quanquan Gu and Jie Zhou. 2009. Co-clustering on manifolds. In
Proceedings of the 15th ACM SIGKDD international conference on
Knowledge discovery and data mining (KDD ’09). ACM, New York,
NY, USA, 359-368. DOI=http://dx.doi.org/10.1145/1557019.1557063
[27] Fanhua Shang, L. C. Jiao, and Fei Wang. 2012. Graph
dual regularization non-negative matrix factorization for coclustering. Pattern Recogn. 45, 6 (June 2012), 2237-2250.
DOI=http://dx.doi.org/10.1016/j.patcog.2011.12.015
[28] Chris Ding, Tao Li, Wei Peng, and Haesun Park. 2006. Orthogonal
nonnegative matrix t-factorizations for clustering. In Proceedings of the
12th ACM SIGKDD international conference on Knowledge discovery
and data mining (KDD ’06). ACM, New York, NY, USA, 126-135.
DOI=http://dx.doi.org/10.1145/1150402.1150420
[29] D. Cai, X. He, J. Han and T. S. Huang, Graph Regularized Nonnegative
Matrix Factorization for Data Representation, in IEEE Transactions on
Pattern Analysis and Machine Intelligence, vol. 33, no. 8, pp. 1548-1560,
Aug. 2011. doi: 10.1109/TPAMI.2010.231
[30] Wei Xu, Xin Liu, and Yihong Gong. 2003. Document clustering based
on non-negative matrix factorization. In Proceedings of the 26th annual
international ACM SIGIR conference on Research and development in
informaion retrieval (SIGIR ’03). ACM, New York, NY, USA, 267-273.
DOI=http://dx.doi.org/10.1145/860435.860485
[31] Zhou, Quanquan Gu Jie. Local learning regularized nonnegative matrix
factorization. IJCAI 2009, Proceedings of the 21st International Joint
Conference on Artificial Intelligence, Pasadena, California, USA, July
11-17, 2009
[32] Linhong Zhu, Aram Galstyan, James Cheng, and Kristina Lerman. Tripartite graph clustering for dynamic sentiment analysis on social media.
In Proceedings of the 2014 ACM SIGMOD International Conference on
Management of Data, pages 1531-1542. ACM, 2014.

+ T r(Xuh XTuh ) − 2T r(Xuh HUT ) + T r(UHT HUT )
+ T r(Xud XTud ) − 2T r(Xud DUT ) + T r(UDT DUT )
+ αT r(UT LC U) + γT r(HT LHsim H) + θT r(DT LDsim D)
+ βT r(WT LWsim W) + T r(ΦUT ) + T r(ηHT )
+ T r(ΩDT ) + T r(ΨWT )
The partial derivatives of Lagrangian function L with respect
to U, H, D, W are as follows;
∂L
= −2Xuw W + 2UWT W − 2Xuh H + 2UHT H−
∂U
2Xud D + 2UDT D + 2αLC U + Φ
∂L
= −2XTuh H + 2UHT H + 2γLHsim H + η
∂H
∂L
= −2XTud H + 2UDT D + 2θLDsim D + Ω
∂D
∂L
= −2XTuw U + 2WUT U + 2βLWsim W + Ψ
∂W
Setting derivatives equal to zero and using KKT complementarity conditions [15] of nonnegativity of matrices
U, H, D, W, ΦU = 0, ηH = 0, ΩD = 0 and ΨW = 0,
we get the update rules given in Equations 2, 3, 4, 5.

