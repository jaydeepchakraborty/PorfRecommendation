2015 International Conference on Indoor Positioning and Indoor Navigation, 13 th-16th October 2015

CAPTURE – Extending the Scope of SelfLocalization in Indoor Positioning Systems
Gary Cullen, Kevin Curran, Jose Santos
Intelligent Systems Research Centre,
University of Ulster, Magee College,
Derry, United Kingdom
Gary.Cullen@lyit.ie

Abstract—The concept of devices cooperatively assisting with
the localization of other devices in either the indoor and outdoor
arena is not a new phenomenon. The primary focus of research
into such a theory is however limited to solving the problem of
localization accuracy. This paper outlines our Cooperatively
Applied Positioning Techniques Utilizing Range Extension
(CAPTURE) system which aims to provide a solution to the
current range limitations of an Indoor Position System (IPS).
These range limitations are the culmination of well documented
difficulties of localizing using wireless signals Non-Line of Sight
(NLOS) environments. The coverage of a localization solution is
still a challenging issue in the indoor environment. In this paper
we implement a version of CAPTURE that uses Wi-Fi Direct and
Bluetooth Low Energy (Bluetooth LE 4.0) that takes advantage
of mobile devices at the outer limits of an IPS to help extend its
reach into blind spots, where devices cannot be located.
CAPTURE is evaluated using a live test environment, where
range estimations are captured between cooperating devices.
These range estimations are filtered before being placed into a
trilateration algorithm to position lost devices. Finally the
accuracy of CAPTURE is presented, demonstrating the
achievable benefits of implementing CAPTURE as a solution to
the problem of coverage in an Indoor environment.
Keywords—Localization; Indoor Positioning Systems; Indoor
Localization; Geographical Positioning; wireless; Wi-Fi;
Bluetooth; Cooperative Localization; Collaborative Positioning;
Self-Positioning

I.

INTRODUCTION

The indoor location problem has been around for many
years and has motivated a great deal of research into finding a
solution. Cooperative solutions have made up a significant
contribution of this research. Cooperation among devices to
self-locate requires a key prerequisite - there must be an
adequate number of devices willing to assist in locating a lost
device. The proliferation of tablet devices and Smartphones,
fully loaded with Wi-Fi, Bluetooth and gyroscopes, somewhat
address this need. The advent of the Internet of Things (IoT’s)
however, providing access to 100’s of billions of devices [1]
offers an even more fertile community of wirelessly connected
smart objects in a connectivity ecosystem. The pace of
innovation of wearable computing coupled with tumbling
costs, mirrored in the consumer interest of the iWatch offers no
sense of a drop off in access to these collaborative devices.
Indeed the requirement for nomadic wearable devices such as

Gearoid Maguire, Denis Bourne
Letterkenny Institute of Technology,
Co. Donegal, Ireland

the aforementioned to be locatable further exacerbates the need
for an expansive solution to accurately locate in all areas of an
indoor environment. Devices such as these were typically not
designed with wireless network capability to merely, assist in
locating other devices. Which although, is a great reuse of an
existing technology, does however, throw up a secondary issue.
If these devices are connected to the network, can we
realistically conceive that they will disconnect from that
network to connect in a Peer to Peer network to cooperatively
assist in locating lost devices? Wi-Fi Direct offers the ability to
be in both Ad-Hoc Mode and Infrastructure mode
simultaneously [2], Bluetooth LE allows the Wi-Fi chip to
remain connected to the network whilst transmitting. Therefore
using CAPTURE to extend the range of an IPS using Wi-Fi
Direct and Bluetooth LE capable devices allows the user to
remain connected to their network whilst cooperatively
assisting in locating other devices it can ‘see’.
Generally, IPS implementations can be grouped as either
exogenous or endogenous depending on the available
infrastructure that can be employed to establish location
information. An exogenous infrastructure implementation is
typically oriented towards an IPS application. An endogenous
solution however, is made up of infrastructure that has not been
installed primarily for positioning reasons. Currently, one of
the most popular techniques to locate devices in the indoor
environment is to use the preinstalled Wireless Access Points
(WAPs) which are used to provide wireless network access to
mobile devices. Typically, good system implementations are
those that achieve an appropriate balance between
requirements, technological advances, and costs. Whilst
utilizing an existing infrastructure, such as this offers many
noble qualities, not least the reduced costs in procuring
equipment to implement a solution, it does introduce some
problems. The decision process behind the strategic positioning
of such equipment to provide mobile network coverage does
not fulfil the requirements of an Indoor Positioning System
(IPS) to locate devices. Therefore it is inevitable that blind
spots should exist in these ISP's. When deciding on the
positioning of Wi-Fi equipment such as Wireless Access Points
(WAPs) the typical focus of network designers was to provide
the highest available throughput to the largest congregations of
wireless network users at key areas within the building. The
ability to locate devices within that environment was not
necessarily to the fore in their decision process, leaving gaping
holes in terms of coverage in some of the IPS's currently in-

2015 International Conference on Indoor Positioning and Indoor Navigation, 13 th-16th October 2015
place. This coupled with some of the architectural barriers to
the positioning of WAPs within a buildings infrastructure
doesn't suggest a solution to this issue in the near future.
In the outdoor arena, apart from some natural obstacles
such as overhead trees, cavernous areas and mountainous
regions the satellites that make up the Global Positioning
System (GPS) have a relatively clear, unobstructed view of the
devices they need to locate. There are also some man made
obstructions, such as the urban canyon phenomenon [3], that
can obscure views in the outdoor world. These also provide
barriers to accurate position estimation, but bear little
resemblance to the many impediments that make up the indoor
environment. The ability to locate in the outdoor world has
more or less been solved as a problem through the many
advances in GPS technology down through the years. The
inability of a GPS signals to penetrate a building’s
infrastructure after propagating 22,000 Kilometers however,
renders it more or less redundant as an indoor positioning
solution. Considering we spend more time in the indoor arena,
nearly 89% of the time according to a recent study [4] carried
out in Canada, the need for a solution is evident.
Usually, distance estimations from more than one WAP to
a lost device are required so that a positioning algorithm can
provide a reasonable level of accuracy. Indeed, sometimes up
to four are required to provide positioning estimations on a 3D
plane. We aim to show in this paper how CAPTURE can be
used in this scenario to augment an existing ISP, assisting in
the positioning of devices that would traditionally be unlocatable. Using devices bundled with Wi-Fi or Bluetooth
antennae we will make up the required number of, or
completely replace the WAPs required. CAPTURE utilizes
Received Signal Strength Indicator (RSSI) readings from WiFi, Bluetooth or Wi-Fi Direct enabled devices to estimate the
range between mobile devices. The measurement of signal
attenuation of these RSSI values between cooperating devices
is used to gauge a propagation distance. These distance
estimations are filtered, to remove any outliers, before being
used as input to a trilateration positioning algorithm. Previous
iterations of CAPTURE [5, 6] have used both Wi-Fi and
Bluetooth 2.0 to assist in the cooperative position of devices
that are beyond the range of standard IPS's. In this paper we
propose to use both Bluetooth 4.0 (Bluetooth LE (Low
Energy)) and Wi-Fi Direct to find the location of remote
devices.
Convincing other devices to cooperatively assist in locating
lost devices would be impossible if, as part of that cooperation
the assisting devices had to sacrifice copious amounts of
battery power. In this paper, we will also provide an evaluation
of the typically battery consumption when a device is utilized
in a CAPTURE implementation. This will provide further
evidence of the use of CAPTURE as a solution to the ranging
problem.
Consider the following scenario, ‘Bob’ is sitting in the far
end of the airport lounge reading his newspaper on his tablet
and is considering ordering food. He has network connectivity
and can see online that his flight is due to leave on time. Bob
has been to this airport before but is unfamiliar with the time it
would take to get to his specific departure gate, or which area

he has to navigate his way through security. The airports IPS
could assist with this, but he only has visibility of one WAP.
This provides a robust network connection but is incapable of
positioning Bob within the airport. Sue is in the airport café
some 45 meters to the west of Bob, Sue’s phone can be ‘seen’
by 3 different WAPs within the airports network and can be
located to within 2 meters of her current position, via the inhouse IPS. Sue’s phone can also ‘see’ Bob’s tablet. The drinks
vending machine in the main hall is 25 meters to the north of
Bob, because of its location in the main hall it has access to 7
WAPs that are utilized in the airports IPS. This smart device
also has a wireless Network Interface Card (NIC) allowing it to
connect to the airport inventory system providing minute by
minute updates on its current stock levels. But more
importantly it is positioned within the network IPS. The 25
meter distance to Bob’s tablet is a simple hop, well within its
read range. In a normal scenario Bob would be beyond the
range of the airports IPS, but because CAPTURE can utilize
the known positions of Sue’s phone, the drinks vending
machine and the WAP that Bob can currently ‘see’, Bob can be
positioned. CAPTURE takes these devices that know their
position and estimates range distances from Bobs lost device to
them. These range estimates are then placed into a trilateration
algorithm to position Bob within the airport. CAPTURE
provides a position estimate relative to the devices locating it,
which can then be mapped onto a global overview of the
airport IPS. Bob can now see that he is 15 minutes from the
departure gate, he is advised to go via the security area just
behind the lounge. Bob orders the duck, all is good.
II.

CAPTURE – SYSTEM MODEL

Here we describe the overall system model used to
implement the CAPTURE solution. CAPTURE provides the
ability to locate a lost device relative to devices that were used
to assist in its localization. If these devices were originally
positioned with an IPS this position can be translated to
Cartesian coordinate values on a 2D plane. There is no need
for a calibration stage with CAPTURE as would be required
with the classical fingerprinting model. CAPTURE uses only
real time RSSI values, providing a robust opportunistic
solution in dynamic environments. Literature within the realm
of Location Based Systems frequently use terms such as
Anchor or Anchor Nodes to describe devices that help to
determine the position of lost or unknown devices. The term
anchor elicits a perception of a static or permanent device,
which in a cooperative solution these devices most certainly
are not. For this reason we will use the term reference device
when describing devices that assist in the positioning of lost or
unknown devices.
Fundamental to any position estimation algorithm is the
ranging technique that is employed to gauge the distance from
the transmitting device(s) to the receiving device(s). This is
determined using a given metric, for example the length of
time it takes a signal to propagate the distance from the
transmitter to the receiver. Issues relating to the small scale
fading of signals due to reflection, refraction, absorption,
diffraction and scattering on obstacles in the indoor
environment are non-trivial and have been well documented in

2015 International Conference on Indoor Positioning and Indoor Navigation, 13 th-16th October 2015
the following literature [7-9]. A high percentage of location
algorithms use range measurements or angle measurements to
estimate distance between a lost device and a particular
reference device. CAPTURE uses the Received Signal
Strength Indicator (RSSI) to estimate range between devices.
This range estimation is then used as input to a trilateration
algorithm to ascertain the Cartesian coordinate values of the
lost device. In order for CAPTURE to be able to cooperatively
locate a lost device within a network, there must be at least 3
reference devices within sight of the lost device. Each of these
must have ‘a prior’ knowledge of their location within a preexisting localization solution. During the experiments,
different configurations were modelled to mimic the different
scenarios that could befall a lost device being positioned using
CAPTURE. Initially 3 Smartphones were used to position the
lost device, then two phones along with a WAP were used to
provide range estimations as input. Finally RSSI readings
from a Smart TV, equipped with a Wi-Fi card, a tablet and a
Smartphone were used to represent the scenario described as
Bob’s scenario at the airport.

MSM7227 chipset. 3 of the phones were used as reference
devices, the other phone acted as the lost device. All equipment
used during the experiments were the same make and model
ruling out any issues with diverse RSSI reads with different
antenna types. Issues relating to varied reads with diverse
antenna makes have been documented in the literature [10, 11].
Lisheng et al., [10] describe the bias being as much as 11.2
dBm out with different antenna types over a 25 meter read
range. Although these issues describe scenarios relating to WiFi radio signals, it is the opinion of the author that these would
have a negative impact on Bluetooth LE transmissions also.
Other issues relating to the orientation of devices described in
the following literature [12] were also considered during the
testing phase.

Figure 2: CAPTURE Client Interface

Figure 1: Test Environment
III.

EXPERIMENTAL TEST BED

In this section, we will demonstrate the suitability of
CAPTURE as a solution to the indoor ranging problem. We
will back up this assertion with evidence based tests, carried
out in a large campaign of measurements taken in a Sports
Hall. The hall offers a 40m wide diagonal testing environment,
providing Line of Sight measurements for all tests, as can be
seen in the image depicted in Figure 1. Each device used in the
test is given a name (BSSID) TestDevice1, TestDevice2 for
example. CAPTURE takes the RSSI readings of all available
reference points, i.e. all devices it can ‘see’, but it filters out
only the test devices selected by the user carrying out the tests.
This is achieved via a lookup table mapping the MAC address
of the device to the device name and allows us to work only
with cooperating devices, allowing the use of only a specified
device or a group of device during any given test. The
experimental setup of CAPTURE was made up of 7 Samsung
GT-S5310 Galaxy Pocket phones, running Google Android
2.2.1 on a 600 MHz ARMv6, Adreno 200 GPU, Qualcomm

A MySQL Server version: 5.0.96 hosted on a Linux platform
was used to store all data collected by the devices. The server
was online and the mobile devices wrote directly to it as they
recorded RSSI values from each other. The data was then
passed through a low level filter to remove any outliers, before
an average RSSI reading was calculated for each required
ranging measurement, to be used in the trilateration algorithm
to estimate the position of the lost device. A Dell Latitude
E6440 iCore3 running Windows 7 Professional was used to
develop the app to gather the RSSI from the phones. An
algorithm was designed to convert this RSSI reading into a
ranging measurement before a trilateration algorithm converted
the ranging measurements into Cartesian coordinate values. We
used the Eclipse IDE and Android Software Development Kit
(SDK) for Android development and debugging, to develop the
app.
IV.

DATA COLLECTION AND PRESENTATION

In this section we provide an overview of some of the data
collected during the experiments that were carried out during
this implementation of CAPTURE. An initial test was carried
out to provide an average 1 meter read range for the ranging
algorithm. This test involved over 500, 1 meter RSSI readings
recorded at different locations throughout the test area. Any

2015 International Conference on Indoor Positioning and Indoor Navigation, 13 th-16th October 2015
outliers were removed with a simple filter, this allowed for the
accurate depiction of this reading to be used for the ranging
algorithm. Additional tests were carried out to measure the
accuracy of the RSSI readings and the computed range
estimations achieved by the algorithm. The following table,
Table, Table I. CAPTURE RSSI Readings, outlines some of
the readings achieved during this initial test phase of the
implementation.
TABLE I.

object of some description, and the final scenario were only
mobile devices existed within range of the lost device. It is
proposed that further experiments (in the coming months) will
be implemented to replicate each scenario in detail. Each of
these would be evaluated to establish the feasibility and
accuracy of each which would further advocate CAPTURE as
a solution to these problems.

CAPTURE RSSI READINGS

REFERENCES

RSSI Readings

[1]

Distance

0–5m

0 – 10 m

0 – 15 m

0 – 20 m

Average

-57.264

-61.5652

-69.5263

-67.5662

Std. Dev

0.4996

0.4

0.85346

0.48992

Estimate

4.517

8.269

25.31

19.216

Distance

0 – 25 m

0 – 30 m

0 – 35 m

0 – 40 m

Average

-68.38

-70.75

-71.854

-73.681

Std. Dev

0.6884

0.9797

0.6803

0.7901

Estimate

21.544

30.059

35.104

45.379

V.

CONCLUSIONS

A comprehensive solution to localization in the indoor arena
poses a uniquely complex set of problems. Problems that have
fostered growing interest, but for which, a single or indeed
swift answer does not currently exist. The success of GPS has
further exacerbated the need for an indoor representation. This
paper introduced a novel architecture for cooperative
localization, CAPTURE, a solution to extend the range of an
Indoor Positioning System. The proposed approach provides
an efficient reliable mechanism to plug into an in-situ solution.
An implementation of CAPTURE was evaluated and tested
which demonstrated the ability of CAPTURE to augment an
existing indoor localization solution to locate mobile devices.
Battery consumption was highlighted earlier in the paper, this
will be adequately analyzed in a larger version of this paper.
Three different scenarios were also outlined describing
specific situations where typically devices could not be
located using a standard solution. The first of these scenarios
was, were only one WAP was reachable by the lost device, the
second were the lost device could ‘see’ a WAP and a smart

G. Kortuem, F. Kawsar, D. Fitton, and V. Sundramoorthy, "Smart
objects as building blocks for the Internet of things," Internet
Computing, IEEE, vol. 14, pp. 44-51, 2010.
[2] W.-F. Alliance, "Wi-Fi Certified Wi-Fi Direct," White paper, October
2010.
[3] M. Spangenberg, J. Y. Tourneret, V. Calmettes, and G. Duchateau,
"Detection of variance changes and mean value jumps in measurement
noise for multipath mitigation in urban navigation," in Signals, Systems
and Computers, 2008 42nd Asilomar Conference on, 2008, pp. 11931197.
[4] C. G. Richardson, J. Memetovic, P. A. Ratner, and J. L. Johnson,
"Examining gender differences in emerging tobacco use using the
adolescents' need for smoking scale," Addiction, vol. 106, pp. 18461854, 2011.
[5] G. Cullen, K. Curran, J. Santos, G. Maguire, and D. Bourne,
"CAPTURE - Cooperatively Applied Positioning Techniques Utilizing
Range Extensions," in Indoor Positioning and Indoor Navigation
(IPIN), 2014, 2014, pp. 248-254.
[6] G. Cullen, K. Curran, J. Santos, G. Maguire, and D. Bourne, "To
wireless fidelity and beyond & Beyond; CAPTURE, extending indoor
positioning systems," in Ubiquitous Positioning Indoor Navigation and
Location Based Service (UPINLBS), 2014, 2014, pp. 248-254.
[7] T. S. Rappaport, Wireless communications : principles and practice,
2nd ed. ed. Upper Saddle River, N.J. ; [Great Britain]: Prentice Hall
PTR, 2002.
[8] S. S. Haykin and M. Moher, Modern wireless communications. Upper
Saddle River, N.J.: Pearson/Prentice Hall, 2005.
[9] A. F. Molisch, Wireless communications, 2nd ed. ed. Oxford: John
Wiley & Sons, 2011.
[10] X. Lisheng, Y. Feifei, J. Yuqi, Z. Lei, F. Cong, and B. Nan, "Variation
of Received Signal Strength in Wireless Sensor Network," in Advanced
Computer Control (ICACC), 2011 3rd International Conference on,
2011, pp. 151-154.
[11] F. D. Rosa, X. Li, J. Nurmi, M. Pelosi, C. Laoudias, and A. Terrezza,
"Hand-grip and body-loss impact on RSS measurements for
localization of mass market devices," in Localization and GNSS (ICLGNSS), 2011 International Conference on, 2011, pp. 58-63.
[12] K. Kaemarungsi and P. Krishnamurthy, "Properties of indoor received
signal strength for WLAN location fingerprinting," in Mobile and
Ubiquitous Systems: Networking and Services, 2004. MOBIQUITOUS
2004. The First Annual International Conference on, 2004, pp. 14-23.

