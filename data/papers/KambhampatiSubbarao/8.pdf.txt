Discovering Underlying Plans Based on Distributed Representations of Actions
Xin Tiana , Hankz Hankui Zhuoa & Subbarao Kambhampati b
Sun Yat-Sen University & a Arizona State University tianxin1860@gmail.com, zhuohank@mail.sysu.edu.cn, rao@asu.edu
a

arXiv:1511.05662v1 [cs.AI] 18 Nov 2015

Abstract
Plan recognition aims to discover target plans (i.e., sequences of actions) behind observed actions, with history plan libraries or domain models in hand. Previous approaches either discover plans by maximally "matching" observed actions to plan libraries, assuming target plans are from plan libraries, or infer plans by executing domain models to best explain the observed actions, assuming complete domain models are available. In real world applications, however, target plans are often not from plan libraries and complete domain models are often not available, since building complete sets of plans and complete domain models are often difficult or expensive. In this paper we view plan libraries as corpora and learn vector representations of actions using the corpora; we then discover target plans based on the vector representations. Our approach is capable of discovering underlying plans that are not from plan libraries, without requiring domain models provided. We empirically demonstrate the effectiveness of our approach by comparing its performance to traditional plan recognition approaches in three planning domains.

Introduction
As computer-aided cooperative work scenarios become increasingly popular, human-in-the-loop planning and decision support has become a critical planning chellenge (c.f. (Cohen et al. 2015; Dong et al. 2004; Manikonda et al. 2014)). An important aspect of such a support (Kambhampati and Talamadupula 2015) is recognizing what plans the human in the loop is making, and provide appropriate suggestions about their next actions. Although there is a lot of work on plan recognition, much of it has traditionally depended on the availability of a complete domain model (Ram´ irez and Geffner 2009a; Zhuo, Yang, and Kambhampati 2012). As has been argued elsewhere (Kambhampati and Talamadupula 2015), such models are hard to get in human-in-the-loop planning scenarios. Here, the decision support systems have to make themselves useful without insisting on complete action models of the domain. The situation here is akin to that faced by search engines and other tools for computer supported cooperate work, and is thus a significant departure for the "planning as pure inference" mindset of the automated planning community. As such, the
Copyright c 2015, Association for the Advancement of Artificial Intelligence (www.aaai.org). All rights reserved.

problem calls for plan recognition with "shallow" models of the domain (c.f. (Kambhampati 2007)), that can be easily learned automatically. There has been very little work on learning such shallow models to support human-in-the-loop planning. Some examples include the work on Woogle system (Dong et al. 2004) that aimed to provide support to humans in web-service composition. That work however relied on very primitive understanding of the actions (web services in their case) that consisted merely of learning the input/output types of individual services. In this paper, we focus on learning more informative models that that can help recognize the plans under construction by the humans, and provide active support by suggesting relevant actions. To drive this process, we need to learn shallow models of the domain. We propose to adapt the recent successes of word-vector models (Mikolov et al. 2013) in language to our problem. Specifically, we assume that we have access to a corpus of previous plans that the human user has made. Viewing these plans as made up of action words, we learn word vector models for these actions. These models provide us a way to induce the distribution over the identity of each unobserved action. Given the distributions over individual unobserved actions, we use an expectationmaximization approach to infer the joint distribution over all unobserved actions. This distribution then forms the basis for action suggestions. We will present the details of our approach, and will also empirically demonstrate that it does capture a surprising amount of structure in the observed plan sequences, leading to effective plan recognition. We further compare its performance to traditional plan recognition techniques, including one that uses the same plan traces to learn the STRIPS-style action models, and use the learned model to support plan recognition.

Problem Definition
A plan library, denoted by L, is composed of a set of plans {p}, where p is a sequence of actions, i.e., p = a1 , a2 , . . . , an where ai , 1  i  n, is an action name (without any parameter) represented by a string. For example, a string unstack-A-B is an action meaning that a robot unstacks block A from block B. We denote the set of all pos¯ which is assumed to be known beforesible actions by A

hand. For ease of presentation, we assume that there is an empty action, Ø, indicating an unknown or not observed ac¯  {Ø}. An observation of an unknown tion, i.e., A = A plan p ~ is denoted by O = o1 , o2 , . . . , oM , where oi  A, ¯ or an empty action 1  i  M , is either an action in A Ø indicating the corresponding action is missing or not observed. Note that p ~ is not necessarily in the plan library L, which makes the plan recognition problem more challenging, since matching the observation to the plan library will not work any more. We assume that the human is making a plan of at most length M . We also assume that at any given point, the planner is able to observe M - k of these actions. The k unobserved actions might either be in the suffiix (i.e., yet to be formed part) of the plan, or in the middle (due to observational gaps). Our aim is to suggest, for each of the k unobserved actions, m possible choices­from which the user can select the action. (Note that we would like to keep m small, ideally close to 1, so as not to overwhelm the user) Accordingly, we will evaluate the effectiveness of the decision support in terms of whether or not the user's best/intended action is within the suggested m actions. Specifically, our recognition problem can be represented by a triple = (L, O, A). The solution to is to discover the unknown plan p ~ that best explains O given L and A. An example of our plan recognition problem in the blocks1 domain is shown below. Example: A plan library L in the blocks domain is assumed to have four plans as shown below: plan 1: pick-up-B stack-B-A pick-up-D stack-D-C plan 2: unstack-B-A put-down-B unstack-D-C put-downD plan 3: pick-up-B stack-B-A pick-up-C stack-C-B pickup-D stack-D-C plan 4: unstack-D-C put-down-D unstack-C-B put-downC unstack-B-A put-down-B An observation O of action sequence is shown below: observation: pick-up-B Ø unstack-D-C put-down-D Ø stack-C-B Ø Ø Given the above input, our DUP algorithm outputs plans as follows: pick-up-B stack-B-A unstack-D-C put-down-D pick-up-C stack-C-B pick-up-D stack-D-C

Learning Vector Representations of Actions
Since actions are denoted by a name strings, actions can be viewed as words, and a plan can be viewed as a sentence. Furthermore, the plan library L can be seen as a corpus, and the set of all possible actions A is the vocabulary. We thus can learn the vector representations for actions using the Skip-gram model with hierarchical softmax, which has been shown an efficient method for learning high-quality vector representations of words from unstructured corpora (Mikolov et al. 2013). The objective of the Skip-gram model is to learn vector representations for predicting the surrounding words in a sentence or document. Given a corpus C , composed of a sequence of training words w1 , w2 , . . . , wT , where T = |C|, the Skip-gram model maximizes the average log probability 1 T
T

log p(wt+j |wt )
t=1 -cj c,j =0

(1)

where c is the size of the training window or context. The basic probability p(wt+j |wt ) is defined by the hierarchical softmax, which uses a binary tree representation of the output layer with the K words as its leaves and for each node, explicitly represents the relative probabilities of its child nodes (Mikolov et al. 2013). For each leaf node, there is an unique path from the root to the node, and this path is used to estimate the probability of the word represented by the leaf node. There are no explicit output vector representations for words. Instead, each inner node has an output vector vn(w,j ) , and the probability of a word being the output word is defined by
L(wt+j )-1

p(wt+j |wt ) =
i=1

 (I(n(wt+j , i + 1) = (2)

child(n(wt+j , i))) · vn(wt+j ,i) · vwt ) , where  (x) = 1/(1 + exp(-x)).

Our DUP Algorithm
Our DUP approach to the recognition problem functions by two phases. We first learn vector representations of actions using the plan library L. We then iteratively sample actions for unobserved actions oi by maximizing the probability of the unknown plan p ~ via the EM framework. We present DUP in detail in the following subsections.
1

L(w) is the length from the root to the word w in the binary tree, e.g., L(w) = 4 if there are four nodes from the root to w. n(w, i) is the ith node from the root to w, e.g., n(w, 1) = root and n(w, L(w)) = w. child(n) is a fixed child (e.g., left child) of node n. vn is the vector representation of the inner node n. vwt is the input vector representation of word wt . The identity function I(x) is 1 if x is true; otherwise it is -1. We can thus build vector representations of actions by maximizing Equation (1) with corpora or plan libraries L as input. We will exploit the vector representations to discover the unknown plan p ~ in the next subsection.

Maximizing Probability of Unknown Plan p ~
With the vector representations learnt in the last subsection, a straightforward way to discover the unknown plan p ~ is to ¯ such that p explore all possible actions in A ~ has the highest

http://www.cs.toronto.edu/aips2000/

probability, which can be defined similar to Equation (1), i.e.,
M

F (~ p) =
k=1 -cj c,j =0

log p(wk+j |wk )

(3)

where wk denotes the k th action of p ~ and M is the length of p ~. As we can see, this approach is exponentially hard with ¯ and number of unobserved actions. respect to the size of A We thus design an approximate approach in the ExpectationMaximization framework to estimate an unknown plan p ~ that best explains the observation O. To do this, we introduce new parameters to capture "weights" of values for each unobserved action. Specifically speaking, assuming there are X unobserved actions in O, i.e., the number of Øs in O is X , we denote these unobserved actions by a ¯1 , ..., a ¯x , ..., a ¯X , where the indices indicate the order they appear in O. Note that each a ¯x can be any action ¯. We associate each possible value of a in A ¯x with a weight, ¯a ¯ ¯ denoted by  ¯x ,x .  is a |A| × X matrix, satisfying ¯ o,x = 1   ¯ o,x  0, 
¯ oA

An overview of our DUP algorithm is shown in Algorithm 1. In Step 2 of Algorithm 1, we initialize o,k = 1/M for ¯, if k is an index of unobserved actions in O; and all o  A ¯  o = o. otherwise, o,k = 1 and o ,k = 0 for all o  A In Step 4, we view ·,k as a probability distribution, and ¯ based on ·,k if k is an unobserved sample an action from A action index in O. In Step 5, we only update ·,k where k is an unobserved action index. In Step 6, we linearly project all elements of the updated  to between 0 and 1, such that we can do sampling directly based on  in Step 4. In Step 8, we simply select a ¯x based on a ¯x = arg max o,x ,
¯ oA

for all unobserved action index x. Algorithm 1 Framework of our DUP algorithm Input: plan library L, observed actions O Output: plan p ~ 1: learn vector representation of actions ¯, when k is an 2: initialize o,k with 1/M for all o  A unobserved action index 3: while the maximal number of repetitions is not reached do 4: sample unobserved actions in O based on  5: update  based on Equation (6) 6: project  to [0,1] 7: end while 8: select actions for unobserved actions with the largest weights in  9: return p ~

¯ to a for each x. For the ease of specification, we extend  ¯ M , denoted by , such that bigger matrix with a size of |A|× ¯ o,x if y is the index of the xth unobserved action in o,y =  ¯; otherwise, o,y = 1 and o ,y = 0 for all O, for all o  A ¯ o  A  o = o. Our intuition is to estimate the unknown plan p ~ by selecting actions with the highest weights. We thus introduce the weights to Equation (2), as shown below,
L(wk+j )-1

p(wk+j |wk ) =
i=1

 (I(n(wk+j , i + 1) = (4)

child(n(wk+j , i))) · avn(wk+j ,i) · bvwk ) ,

Experiments
In this section, we evaluate our DUP algorithms in three planning domains from International Planning Competition, i.e., blocks1 , depots2 , and driverlog2 . To generate training and testing data, we randomly created 5000 planning problems for each domain, and solved these planning problems with a planning solver, such as FF3 , to produce 5000 plans. We then randomly divided the plans into ten folds, with 500 plans in each fold. We ran our DUP algorithm ten times to calculate an average of accuracies, each time with one fold for testing and the rest for training. In the testing data, we randomly removed actions from each testing plan (i.e., O) with a specific percentage  of the plan length. Features of datasets are shown in Table 1, where the second column is the number of plans generated, the third column is the total number of words (or actions) of all plans, and the last column is the size of vocabulary used in all plans. We define the accuracy of our DUP algorithm as follows. For each unobserved action a ¯x DUP suggests a set of possible actions Sx which have the highest value of a ¯x ,x ¯. If Sx covers the truth action atruth , i.e., for all a ¯x  A
2 http://www.cs.cmu.edu/afs/cs/project/jair/pub/volume20/long03ahtml/JAIRIPC.html 3 https://fai.cs.uni-saarland.de/hoffmann/ff.html

where a = wk+j ,k+j and b = wk ,k . We can see that the impact of wk+j and wk is penalized by weights a and b if they are unobserved actions, and stays unchanged, otherwise (since both a and b equal to 1 if they are observed actions). We redefine the objective function as shown below,
M

F (~ p, ) =
k=1 -cj c,j =0

log p(wk+j |wk ),

(5)

where p(wk+j |wk ) is defined by Equation (4). The only parameters needed to be updated are , which can be easily done by gradient descent, as shown below, o,x = o,x +  F ,  o,x (6)

if x is the index of unobserved action in O; otherwise, o,x stays unchanged, i.e., o,x = 1. Note that  is a learning constant. With Equation (6), we can design an EM algorithm by repeatedly sampling an unknown plan according to  and updating  based on Equation (6) until reaching convergence (e.g., a constant number of repetitions is reached).

(a) blocks
0.8   0.7   0.6   0.8   0.7   0.6  

(b) depots
0.8   0.7   0.6  

(c) driverlog
DUP   MatchPlan   ARMS+PRP  

accuracy

accuracy

accuracy
DUP   MatchPlan   ARMS+PRP  
0.05   0.1   0.15   0.2   0.25  

0.5   0.4   0.3   0.2   0.1   0   0.05   0.1   0.15   0.2   0.25  

0.5   0.4   0.3   0.2   0.1   0  

0.5   0.4   0.3   0.2   0.1   0   0.05   0.1   0.15   0.2   0.25  

DUP   MatchPlan   ARMS+PRP  

percentage of unobserved actions

percentage of unobserved actions

percentage of unobserved actions

Figure 1: Accuracy with respect to different percentage of unobserved actions Table 1: Features of datasets domain blocks depots driverlog #plan 5000 5000 5000 #word 292250 209711 179621 #vocabulary 1250 2273 1441 extra information, i.e., initial state and goal of each plan in the plan library, to ARMS+PRP. In addition, PRP requires as input a set of candidate goals G for each plan to be recognized in the testing set, which was also generated and fed to PRP when testing. In summary, the hybrid plan recognition approach ARMS+PRP has more input information, i.e., initial states and goals in plan library and candidate goals G for each testing example, than our DUP approach.

atruth  Sx , we increase the number of correct suggestions g by 1. We thus define the accuracy acc as shown below: acc = 1 T
T

Accuracy w.r.t. Percentage of Unobserved Actions
We first evaluate our DUP algorithm with respect to different percentage of unobserved actions  in O. We set the window of training context c in Equation (1) to be three and the size of recommendations to be ten. We compare our DUP algorithm to both MatchPlan and ARMS+PRP. To make fair comparison (to MatchPlan), we set the matching window MatchPlan to be three as well when searching plans from plan libraries L. In other words, to estimate an unobserved action a ¯x in O, MatchPlan matches previous three actions and subsequent three actions of a ¯x to plans in L, and recommends ten actions with maximal number of matched actions, considering unobserved actions (Ø in the context of a ¯x ) and actions in L as a successful matching. For ARMS+PRP, we generated 20 candidate goals for each testing example including the ground-truth goal which corresponds to the ground-truth plan to be recognized. The results are shown in Figure 1. From Figure 1, we can see that in all three domains, the accuracy of our DUP algorithm is generally higher than MatchPlan and ARMS+PRP, which verifies that our DUP algorithm can indeed capture relations among actions better than previous matching approaches. The rationale is that we explore global plan information from the plan library to learn a "shallow" model (distributed representations of actions) and use this model with global information to best

i=1

# correct-suggestions i , Ki

where T is the size of testing set, # correct-suggestions i is the number of correct suggestions for the ith testing plan, Ki is the number of unobserved actions in the ith testing plan. We can see that the accuracy acc may be influenced by Sx . We will test different size of Sx in the experiment. State-of-the-art plan recognition approaches with plan libraries as input aim at finding a plan from plan libraries to best explain the observed actions (Geib and Steedman 2007), which we denote by MatchPlan. We develop a MatchPlan system based on the idea of (Geib and Steedman 2007) and compare our DUP algorithm to MatchPlan with respect to different percentage of unobserved actions  and different size of suggestion set Sx . Another baseline is action-models based plan recognition approach (Ramirez and Geffner 2009b) (denoted by PRP, short for Plan Recognition as Planning). Since we do not have action models as input in our DUP algorithm, we exploited the action model learning system ARMS (Yang, Wu, and Jiang 2007) to learn action models from the plan library and feed the action models to the PRP approach. We call this hybrid plan recognition approach ARMS+PRP. To learn action models, ARMS requires state information of plans as input. We thus added

(a) blocks
0.8   0.7   0.6  

(b) depots
0.8   0.7   0.6  
0.8   0.7   0.6  

(c) driverlog

accuracy

accuracy

accuracy

0.5   0.4   0.3   0.2   0.1   0   1   2   3   4   5   6   7   8   9   10  

0.5   0.4   0.3   0.2   0.1   0   1   2   3   4   5   6   7   8   9   10  

0.5   0.4   0.3   0.2   0.1   0   1   2   3   4   5   6   7   8   9   10  

size of recommendations
DUP  

size  of  recommenda9ons  
MatchPlan   ARMS+PRP  

size of recommendations

Figure 2: Accuracy with respect to different size of recommendations explain the observed actions. In contrast, MatchPlan just utilizes local plan information when matching the observed actions to the plan library which results in lower accuracies. Although ARMS+PRP tries to leverage global plan information from the plan library to learn action models and uses the models to recognize observed actions, it enforces itself to extract "exact" models represented by planning models which are often with noise. When feeding those noisy models to PRP, since PRP that uses planning techniques to recognize plans is very sensitive to noise of planning models, the recognition accuracy is lower than DUP, even though ARMS+PRP has more input information (i.e., initial states and candidate goals) than our DUP algorithm. Looking at the changes of accuracies with respect to the percentage of unobserved actions, we can see that our DUP algorithm performs fairly well even when the percentage of unobserved action reaches 25%. In contrast, ARMS+PRP is sensitive to the percentage of unobserved actions, i.e., the accuracy goes down when more actions are unobserved. This is because the noise of planning models induces more uncertain information, which harms the recognition accuracy, when the percentage of unobserved actions becomes larger. Comparing accuracies of different domains, we can see that our DUP algorithm functions better in the blocks domain than the other two domains. This is because the ratio of #word over #vocabulary in the blocks domain is much larger than the other two domains, as shown in Table 1. We would conjecture that increasing the ratio could improve the accuracy of DUP. ARMS+PRP, the number of candidate goals for each testing example is set to 20. ARMS+PRP aims to recognize plans that are optimal with respect to the cost of actions. We relax ARMS+PRP to output |Sx | optimal plans, some of which might be suboptimal. We varied the number of actions recommended by DUP (or MatchPlan) from 1 to 10. The results are shown in Figure 2. From Figure 2, we find that accuracies of the three approaches generally become larger when the size of the recommended action set increases in all three domains. This is consistent with our intuition, since the larger the recommended action set is, the higher the possibility for the truth action to be in the recommended action set. We can also see that the accuracy of our DUP algorithm are generally larger than both MatchPlan and ARMS+PRP in all three domains, which verifies that our DUP algorithm can indeed better capture relations among actions and thus recognize unobserved actions better than the matching approach MatchPlan and the planning model learning approach ARMS+PRP. The reason is similar to the one given for Figure 1 in the previous section. That is, the "shadow" model learnt by our DUP algorithm is better for recognizing plans than both the "exact" planning model learnt by ARMS for recognizing plans with planning techniques and the local matching approach MatchPlan. On the other hand, we can also see the accuracy of ARMS+PRP is generally higher than MatchPlan. This verifies that the additional information of initial states and candidate goals exploited by ARMS+PRP can indeed help improve the accuracy. Furthermore, the advantage of DUP becomes even larger when the size of recommended action set increases, which suggests our vector representation based learning approach can better capture action relations when the size of recommended action set is larger. The possibility of actions correctly recognized by DUP becomes much larger than the other two approaches when the size of recommendations increases.

Accuracy w.r.t. Size of Recommendation Set
We next evaluate the performance of our DUP algorithm with respect to the size of recommendation set Sx . Likewise, we set the context window c used in Equation (1) to be three, which was also set when matching the observed actions O to plan libraries L in the MatchPlan approach. For

Related work
Kautz and Allen proposed an approach to recognizing plans based on parsing observed actions as sequences of subactions and essentially model this knowledge as a context-free rule in an "action grammar" (Kautz and Allen 1986). All actions, plans are uniformly referred to as goals, and a recognizer's knowledge is represented by a set of first-order statements called event hierarchy encoded in first-order logic, which defines abstraction, decomposition and functional relationships between types of events. Lesh and Etzioni further presented methods in scaling up activity recognition to scale up his work computationally (Lesh and Etzioni 1995). They automatically constructed plan-library from domain primitives, which was different from (Kautz and Allen 1986) where the plan library was explicitly represented. In these approaches, the problem of combinatorial explosion of plan execution models impedes its application to real-world domains. Kabanza and Filion (Kabanza et al. 2013) proposed an anytime plan recognition algorithm to reduce the number of generated plan execution models based on weighted model counting. These approaches are, however, difficult to represent uncertainty. They offer no mechanism for preferring one consistent approach to another and incapable of deciding whether one particular plan is more likely than another, as long as both of them can be consistent enough to explain the actions observed. Instead of using a library of plans, Ramirez and Geffner (Ramirez and Geffner 2009b) proposed an approach to solving the plan recognition problem using slightly modified planning algorithms, assuming the action models were given as input. Except previous work (Kautz and Allen 1986; Bui 2003; Geib and Goldman 2009; Ramirez and Geffner 2009b) on the plan recognition problem presented in the introduction section, Note that action models can be created by experts or learnt by previous systems, such as ARMS (Yang, Wu, and Jiang 2007) and LAMP (Zhuo et al. 2010). Saria and Mahadevan presented a hierarchical multi-agent markov processes as a framework for hierarchical probabilistic plan recognition in cooperative multi-agent systems (Saria and Mahadevan 2004). Singla and Mooney proposed an approach to abductive reasoning using a first-order probabilistic logic to recognize plans (Singla and Mooney 2011). Amir and Gal addressed a plan recognition approach to recognizing student behaviors using virtual science laboratories (Amir and Gal 2011). Ramirez and Geffner exploited offthe-shelf classical planners to recognize probabilistic plans (Ramirez and Geffner 2010). Early work on human-in-the-loop planning scenarios in automated planning went under the name of "mixedinitiative planning" (e.g. (Ferguson, Allen, and Miller 1996)). An important limitation of that work was that the humans in the loop were helping the automated planner (with a complete action model) navigate its search space of plans more efficiently. In contrast, we are interested in planning technology that helping humans develop plans, even in the absence of complete formal models of the planning domain. While some work in web-service composition (c.f. (Dong et al. 2004)) did focus on this type of planning support, they were hobbled by being limited to simple input/output

type comparison. In contrast, we believe that DUP learns and uses a model that captures more of the structure of the planning domain (while still not insisting on complete action models). While DUP focuses on learning models from plan corpora, some recent work looked at using crowdsourcing to acquire domain models. For example, Lasecki et al. (Lasecki et al. 2013) introduce Legion:AR, which combines the benefits of automatic and human activity labeling for robust and deployable activity recognition. The system exploits an active learning approach (Zhao, Sukthankar, and Sukthankar 2011) in which automatic activity recognition is augmented with on-demand activity labels from the crowd when an observed activity cannot be confidently classified. By engaging a group of people, Legion:AR is able to label activities as they occur more reliably than a single person can, especially in complex domains with multiple actors performing activities quickly. Lasecki et al. (Lasecki et al. 2014) built a crowdsourcing based system called ARchitect, using the crowd to capture the dependency structure of the actions that make up activities. Such crowd-sourcing methods can complement the plan-corpus based approach proposed in DUP.

Conclusion and Discussion
In this paper we present a novel plan recognition approach DUP based on vector representation of actions. We first learn the vector representations of actions from plan libraries using the Skip-gram model which has been demonstrated to be effective. We then discover unobserved actions with the vector representations by repeatedly sampling actions and optimizing the probability of potential plans to be recognized. We also empirically exhibit the effectiveness of our approach. While we focused on a one-shot recognition task in this paper, in practice, human-in-the-loop planning will consist of multiple iterations, with DUP recognizing the plan and suggesting action addition alternatives; the human making a selection and revising the plan. The aim is to provide a form of flexible plan completion tool, akin to auto-completers for search engine queries. To do this efficiently, we need to make the DUP recognition algorithm "incremental." The word-vector based domain model we developed in this paper provides interesting contrasts to the standard precondition and effect based action models used in automated planning community. One of our future aims is to provide a more systematic comparison of the tradeoffs offered by these models. Although we have focused on the "plan recognition" aspects of this model until now, and assumed that "planning support" will be limited to suggesting potential actions to the humans. In future, we will also consider "critiquing" the plans being generated by the humans (e.g. detecting that an action introduced by the human is not consistent with the model learned by DUP), and "explaining/justifying" the suggestions generated by humans. Here, we cannot expect causal explanations of the sorts that can be generated with the help of complete action models (e.g. (Petrie 1992)), and will have to develop justifications analogous to those used in recommendation systems.

References
[Amir and Gal 2011] Amir, O., and Gal, Y. K. 2011. Plan recognition in virtual laboratories. In Proceedings of IJCAI, 2392­2397. [Bui 2003] Bui, H. H. 2003. A general model for online probabilistic plan recognition. In Proceedings of IJCAI, 1309­1318. [Cohen et al. 2015] Cohen, P. R.; Kaiser, E. C.; Buchanan, M. C.; Lind, S.; Corrigan, M. J.; and Wesson, R. M. 2015. Sketch-thru-plan: a multimodal interface for command and control. Commun. ACM 58(4):56­65. [Dong et al. 2004] Dong, X.; Halevy, A. Y.; Madhavan, J.; Nemes, E.; and Zhang, J. 2004. Simlarity search for web services. In (e)Proceedings of the Thirtieth International Conference on Very Large Data Bases, Toronto, Canada, August 31 - September 3 2004, 372­383. [Ferguson, Allen, and Miller 1996] Ferguson, G.; Allen, J.; and Miller, B. 1996. Trains-95: Towards a mixed-initiative planning assistant. In Proceedings of the Third Conference on Artificial Intelligence Planning Systems (AIPS-96), 70­ 77. Edinburgh, Scotland. [Geib and Goldman 2009] Geib, C. W., and Goldman, R. P. 2009. A probabilistic plan recognition algorithm based on plan tree grammars. Artificial Intelligence 173(11):1101­ 1132. [Geib and Steedman 2007] Geib, C. W., and Steedman, M. 2007. On natural language processing and plan recognition. In IJCAI 2007, Proceedings of the 20th International Joint Conference on Artificial Intelligence, Hyderabad, India, January 6-12, 2007, 1612­1617. [Kabanza et al. 2013] Kabanza, F.; Filion, J.; Benaskeur, A. R.; and Irandoust, H. 2013. Controlling the hypothesis space in probabilistic plan recognition. In IJCAI. [Kambhampati and Talamadupula 2015] Kambhampati, S., and Talamadupula, K. 2015. Human-in-the-loop planning and decision support. rakaposhi.eas.asu.edu/hilp-tutorial. [Kambhampati 2007] Kambhampati, S. 2007. Model-lite planning for the web age masses: The challenges of planning with incomplete and evolving domain models. In Proceedings of the Twenty-Second AAAI Conference on Artificial Intelligence, July 22-26, 2007, Vancouver, British Columbia, Canada, 1601­1605. [Kautz and Allen 1986] Kautz, H. A., and Allen, J. F. 1986. Generalized plan recognition. In Proceedings of AAAI, 32­ 37. [Lasecki et al. 2013] Lasecki, W. S.; Song, Y. C.; Kautz, H. A.; and Bigham, J. P. 2013. Real-time crowd labeling for deployable activity recognition. In CSCW, 1203­1212. [Lasecki et al. 2014] Lasecki, W. S.; Weingard, L.; Ferguson, G.; and Bigham, J. P. 2014. Finding dependencies between actions using the crowd. In Proceedings of CHI, 3095­3098. [Lesh and Etzioni 1995] Lesh, N., and Etzioni, O. 1995. A sound and fast goal recognizer. In IJCAI, 1704­1710. [Manikonda et al. 2014] Manikonda, L.; Chakraborti, T.; De, S.; Talamadupula, K.; and Kambhampati, S. 2014. AI-MIX:

using automated planning to steer human workers towards better crowdsourced plans. In Proceedings of the TwentyEighth AAAI Conference on Artificial Intelligence, July 27 -31, 2014, Qu´ ebec City, Qu´ ebec, Canada., 3004­3009. [Mikolov et al. 2013] Mikolov, T.; Sutskever, I.; Chen, K.; Corrado, G. S.; and Dean, J. 2013. Distributed representations of words and phrases and their compositionality. In NIPS, 3111­3119. [Petrie 1992] Petrie, C. J. 1992. Constrained decision revision. In Proceedings of the 10th National Conference on Artificial Intelligence. San Jose, CA, July 12-16, 1992., 393­ 400. [Ram´ irez and Geffner 2009a] Ram´ irez, M., and Geffner, H. 2009a. Plan recognition as planning. In IJCAI 2009, Proceedings of the 21st International Joint Conference on Artificial Intelligence, Pasadena, California, USA, July 11-17, 2009, 1778­1783. [Ramirez and Geffner 2009b] Ramirez, M., and Geffner, H. 2009b. Plan recognition as planning. In Proceedings of IJCAI, 1778­1783. [Ramirez and Geffner 2010] Ramirez, M., and Geffner, H. 2010. Probabilistic plan recognition using off-the-shelf classical planners. In Proceedings of AAAI, 1121­1126. [Saria and Mahadevan 2004] Saria, S., and Mahadevan, S. 2004. Probabilistic plan recognitionin multiagent systems. In Proceedings of AAAI. [Singla and Mooney 2011] Singla, P., and Mooney, R. 2011. Abductive markov logic for plan recognition. In Proceedings of AAAI, 1069­1075. [Yang, Wu, and Jiang 2007] Yang, Q.; Wu, K.; and Jiang, Y. 2007. Learning action models from plan examples using weighted MAX-SAT. Artificial Intelligence Journal 171:107­143. [Zhao, Sukthankar, and Sukthankar 2011] Zhao, L.; Sukthankar, G.; and Sukthankar, R. 2011. Robust active learning using crowdsourced annotations for activity recognition. In AAAI workshop. [Zhuo et al. 2010] Zhuo, H. H.; Yang, Q.; Hu, D. H.; and Li, L. 2010. Learning complex action models with quantifiers and implications. Artificial Intelligence 174(18):1540­1569. [Zhuo, Yang, and Kambhampati 2012] Zhuo, H. H.; Yang, Q.; and Kambhampati, S. 2012. Action-model based multiagent plan recognition. In Advances in Neural Information Processing Systems 25: 26th Annual Conference on Neural Information Processing Systems 2012. Proceedings of a meeting held December 3-6, 2012, Lake Tahoe, Nevada, United States., 377­385.

